{"version":3,"sources":["webpack:///./src/components/Map.vue?8d17","webpack:///./src/components/Map.vue?5c4b","webpack:///./src/components/Map.vue?e1f3","webpack:///./src/components/Map.vue","webpack:///./src/components/Map.vue?f395","webpack:///./src/components/Map.vue?9397","webpack:///./src/components/Map.vue?870d"],"names":[],"mappings":"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","file":"odp-search.3.js","sourcesContent":["export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".map-teaser{max-width:300px;background-color:#fff;padding:1rem;filter:drop-shadow(0 0 .2rem rgba(0,0,0,.1)) drop-shadow(0 0 1rem rgba(0,0,0,.2));border-radius:.2rem}.map-teaser .content__first{display:none}.map-teaser .accolade-inverse{bottom:-1rem;transform:rotate(180deg)}.map-container{height:30rem}.map-container,.map-container .content-container{position:relative}.map-container .tools{position:absolute;z-index:2;top:.8rem;right:.8rem}.map-container .tools>button{display:block;width:2.2rem;padding:0;margin:0 0 .4rem;border:0;border-radius:.2rem;background-color:#fff;color:#23333a;font-size:1.2rem;box-shadow:0 8px 12px 0 rgba(0,125,179,.06);cursor:pointer}.map-container .tools>button i{line-height:2.2rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"map\",staticClass:\"map-container\",staticStyle:{\"width\":\"100%\",\"height\":\"600px\"},attrs:{\"tabindex\":\"0\"}},[_c('div',{staticClass:\"content-container\"},[_c('div',{staticClass:\"geolocate\"},[_c('div',{staticClass:\"tools\"},[_c('button',{attrs:{\"type\":\"button\",\"aria-label\":\"Zoom in\",\"title\":\"Zoom in\"},on:{\"click\":_vm.zoomIn}},[_c('i',{staticClass:\"icon-plus\",attrs:{\"aria-hidden\":\"true\"}})]),_c('button',{attrs:{\"type\":\"button\",\"aria-label\":\"Zoom uit\",\"title\":\"Zoom uit\"},on:{\"click\":_vm.zoomOut}},[_c('i',{staticClass:\"icon-minus\",attrs:{\"aria-hidden\":\"true\"}})])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from 'vue'\nimport { fromLonLat, get as getProjection } from 'ol/proj'\nimport WMTSTileGrid from 'ol/tilegrid/WMTS'\nimport { getTopLeft, getWidth } from 'ol/extent'\nimport WMTS from 'ol/source/WMTS'\nimport BaseLayer from 'ol/layer/Base'\nimport View from 'ol/View'\nimport Map from 'ol/Map'\nimport TileLayer from 'ol/layer/Tile'\nimport { Row } from '@/types/row'\nimport Teaser from '@/components/Teaser.vue'\n\n// importing the OpenLayers stylesheet is required for having\n// good looking buttons!\nimport 'ol/ol.css'\nimport { Feature, Overlay } from 'ol'\nimport VectorLayer from 'ol/layer/Vector'\nimport { Source, Vector } from 'ol/source'\nimport { Geometry, Point } from 'ol/geom'\nimport { Icon, Style } from 'ol/style'\nimport IconAnchorUnits from 'ol/style/IconAnchorUnits'\nimport OverlayPositioning from 'ol/OverlayPositioning'\n\nconst TeaserClass = Vue.extend(Teaser)\n\nconst projection = getProjection('EPSG:3857')\nconst projectionExtent = projection.getExtent()\nconst size = getWidth(projectionExtent) / 256\nconst resolutions = new Array(14)\nconst matrixIds = new Array(14)\nfor (let z = 0; z < 21; ++z) {\n  // generate resolutions and matrixIds arrays for this WMTS\n  resolutions[z] = size / Math.pow(2, z)\n  matrixIds[z] = 'SG-WEB MERCATOR:' + z\n}\nconst stadsPlanLayer = new TileLayer({\n  source: new WMTS({\n    url: 'https://geo.gent.be/geoserver/gwc/service/wmts/',\n    matrixSet: 'SG-WEB MERCATOR',\n    format: 'image/png',\n    projection,\n    tileGrid: new WMTSTileGrid({\n      origin: getTopLeft(projectionExtent),\n      resolutions,\n      matrixIds\n    }),\n    style: 'default',\n    wrapX: true,\n    layer: 'SG-E-Stadsplan:Stadsplan'\n  })\n})\n\nconst inActiveVectorStyle: Style = new Style({\n  image: new Icon({\n    src: 'marker.svg',\n    anchor: [0.5, 0.5],\n    size: [68, 68],\n    scale: 1,\n    anchorXUnits: IconAnchorUnits.FRACTION,\n    anchorYUnits: IconAnchorUnits.FRACTION\n  })\n})\n\nconst activeVectorStyle: Style = new Style({\n  image: new Icon({\n    src: 'marker_active.svg',\n    anchor: [0.5, 0.5],\n    size: [68, 68],\n    scale: 1,\n    anchorXUnits: IconAnchorUnits.FRACTION,\n    anchorYUnits: IconAnchorUnits.FRACTION\n  })\n})\n\nconst vectorLayer: VectorLayer = new VectorLayer({\n  style: inActiveVectorStyle,\n  source: new Vector({\n    features: []\n  })\n})\n\nconst activeVectorLayer: VectorLayer = new VectorLayer({\n  style: activeVectorStyle,\n  source: new Vector({\n    features: []\n  })\n})\n\nexport default Vue.extend({\n  name: 'OdpMap',\n  props: {\n    items: {\n      type: Array as PropType<Row[]>,\n      default: () => []\n    }\n  },\n  data () {\n    return {\n      olMap: null as unknown as Map,\n      flyOut: null as unknown as Overlay\n    }\n  },\n  methods: {\n    setFeatures: function (): void {\n      vectorLayer.getSource().clear()\n      vectorLayer.getSource().addFeatures(this.items.map(\n        item => new Feature<Geometry>({\n          teaser: item,\n          geometry: new Point(item.coordinates?.split(',') as unknown as number[])\n        })\n      ))\n    },\n    createFlyOut: function (teaser: Row): Overlay {\n      const flyOutWrapper = document.createElement('div')\n      const innerFlyOut = document.createElement('div')\n      const accolade = document.createElement('div')\n      const flyOut = new TeaserClass({ propsData: { teaser } })\n\n      accolade.className = 'accolade-inverse bottom-center'\n      innerFlyOut.className = 'map-teaser'\n\n      flyOut.$mount()\n      innerFlyOut.appendChild(flyOut.$el)\n      innerFlyOut.appendChild(accolade)\n      flyOutWrapper.appendChild(innerFlyOut)\n\n      return new Overlay({\n        position: teaser.coordinates?.split(',') as unknown as number[],\n        offset: [0, -45],\n        positioning: OverlayPositioning.BOTTOM_CENTER,\n        autoPan: true,\n        autoPanMargin: 5,\n        autoPanAnimation: {\n          duration: 200\n        },\n        element: flyOutWrapper\n      })\n    },\n    zoomIn: function () {\n      this.olMap.getView().setZoom((this.olMap.getView()?.getZoom() || 15) + 1)\n    },\n    zoomOut: function () {\n      this.olMap.getView().setZoom((this.olMap.getView()?.getZoom() || 15) - 1)\n    }\n  },\n  watch: {\n    items: function (): void {\n      this.setFeatures()\n    }\n  },\n  mounted () {\n    this.olMap = new Map({\n      layers: [\n        stadsPlanLayer,\n        vectorLayer,\n        activeVectorLayer\n      ],\n      controls: [],\n      target: this.$refs.map as HTMLElement,\n      view: new View({\n        center: fromLonLat([3.7236731510340757, 51.05478835923585]),\n        zoom: 13,\n        maxZoom: 21\n      })\n    })\n    this.olMap.on('click', e => {\n      vectorLayer.getFeatures(e.pixel).then(\n        ([f]) => {\n          this.olMap.removeOverlay(this.flyOut)\n          activeVectorLayer.getSource().clear()\n          if (!f || !f.get('teaser')) {\n            return\n          }\n          activeVectorLayer.getSource().addFeature(f)\n          this.flyOut = this.createFlyOut(f.get('teaser'))\n          setTimeout(() => {\n            this.olMap.addOverlay(this.flyOut)\n          })\n        })\n    })\n    this.setFeatures()\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=e9c76232&\"\nimport script from \"./Map.vue?vue&type=script&lang=ts&\"\nexport * from \"./Map.vue?vue&type=script&lang=ts&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./Map.vue?vue&type=style&index=0&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"3ac084be\", content, shadowRoot)\n};"],"sourceRoot":""}