(window["odpSearch_jsonp"]=window["odpSearch_jsonp"]||[]).push([[3],{"894b":function(e,t,a){"use strict";a.r(t);var o=a("f983");for(var n in o)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(n)},"8d00":function(e,t,a){var o=a("24fb");t=o(!1),t.push([e.i,".map-teaser{max-width:300px;background-color:#fff;padding:1rem;filter:drop-shadow(0 0 .2rem rgba(0,0,0,.1)) drop-shadow(0 0 1rem rgba(0,0,0,.2));border-radius:.2rem}.map-teaser .content__first{display:none}.map-teaser .accolade-inverse{bottom:-1rem;transform:rotate(180deg)}.map-container{height:30rem}.map-container,.map-container .content-container{position:relative}.map-container .tools{position:absolute;z-index:2;top:.8rem;right:.8rem}.map-container .tools>button{display:block;width:2.2rem;padding:0;margin:0 0 .4rem;border:0;border-radius:.2rem;background-color:#fff;color:#23333a;font-size:1.2rem;box-shadow:0 8px 12px 0 rgba(0,125,179,.06);cursor:pointer}.map-container .tools>button i{line-height:2.2rem}",""]),e.exports=t},a0be:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"map",staticClass:"map-container",staticStyle:{width:"100%",height:"600px"},attrs:{tabindex:"0"}},[a("div",{staticClass:"content-container"},[a("div",{staticClass:"geolocate"},[a("div",{staticClass:"tools"},[a("button",{attrs:{type:"button","aria-label":"Zoom in",title:"Zoom in"},on:{click:e.zoomIn}},[a("i",{staticClass:"icon-plus",attrs:{"aria-hidden":"true"}})]),a("button",{attrs:{type:"button","aria-label":"Zoom uit",title:"Zoom uit"},on:{click:e.zoomOut}},[a("i",{staticClass:"icon-minus",attrs:{"aria-hidden":"true"}})])])])])])])},n=[],r=(a("ddb0"),a("2b0e")),i=a("256f"),s=a("6ed8"),c=a("0af5"),l=a("d510"),d=a("a2c7"),u=a("5eee"),m=a("480c"),p=a("bc34"),f=(a("5bc0"),a("4cdf")),h=a("0710"),g=a("3e6b"),b=a("5831"),v=a("f403"),w=a("6c77"),O=a("6cbf"),y=a("82b0"),x=a("698f");const _=r["a"].extend(p["a"]),C=Object(i["g"])("EPSG:3857"),M=C.getExtent(),E=Object(c["E"])(M)/256,S=new Array(14),F=new Array(14);for(let P=0;P<21;++P)S[P]=E/Math.pow(2,P),F[P]="SG-WEB MERCATOR:"+P;const j=new m["a"]({source:new l["a"]({url:"https://geo.gent.be/geoserver/gwc/service/wmts/",matrixSet:"SG-WEB MERCATOR",format:"image/png",projection:C,tileGrid:new s["b"]({origin:Object(c["C"])(M),resolutions:S,matrixIds:F}),style:"default",wrapX:!0,layer:"SG-E-Stadsplan:Stadsplan"})}),A=new w["b"]({image:new O["a"]({src:"marker.svg",anchor:[.5,.5],size:[68,68],scale:1,anchorXUnits:y["a"].FRACTION,anchorYUnits:y["a"].FRACTION})}),T=new w["b"]({image:new O["a"]({src:"marker_active.svg",anchor:[.5,.5],size:[68,68],scale:1,anchorXUnits:y["a"].FRACTION,anchorYUnits:y["a"].FRACTION})}),z=new g["a"]({style:A,source:new b["a"]({features:[]})}),R=new g["a"]({style:T,source:new b["a"]({features:[]})});var Z=r["a"].extend({name:"OdpMap",props:{items:{type:Array,default:()=>[]}},data(){return{olMap:null,flyOut:null}},methods:{setFeatures:function(){z.getSource().clear(),z.getSource().addFeatures(this.items.map(e=>{var t;return new f["a"]({teaser:e,geometry:new v["a"](null===(t=e.coordinates)||void 0===t?void 0:t.split(","))})}))},createFlyOut:function(e){var t;const a=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div"),r=new _({propsData:{teaser:e}});return n.className="accolade-inverse bottom-center",o.className="map-teaser",r.$mount(),o.appendChild(r.$el),o.appendChild(n),a.appendChild(o),new h["a"]({position:null===(t=e.coordinates)||void 0===t?void 0:t.split(","),offset:[0,-45],positioning:x["a"].BOTTOM_CENTER,autoPan:!0,autoPanMargin:5,autoPanAnimation:{duration:200},element:a})},zoomIn:function(){var e;this.olMap.getView().setZoom(((null===(e=this.olMap.getView())||void 0===e?void 0:e.getZoom())||15)+1)},zoomOut:function(){var e;this.olMap.getView().setZoom(((null===(e=this.olMap.getView())||void 0===e?void 0:e.getZoom())||15)-1)}},watch:{items:function(){this.setFeatures()}},mounted(){this.olMap=new u["a"]({layers:[j,z,R],controls:[],target:this.$refs.map,view:new d["a"]({center:Object(i["d"])([3.7236731510340757,51.05478835923585]),zoom:13,maxZoom:21})}),this.olMap.on("click",e=>{z.getFeatures(e.pixel).then(([e])=>{this.olMap.removeOverlay(this.flyOut),R.getSource().clear(),e&&e.get("teaser")&&(R.getSource().addFeature(e),this.flyOut=this.createFlyOut(e.get("teaser")),setTimeout(()=>{this.olMap.addOverlay(this.flyOut)}))})}),this.setFeatures()}}),k=Z,I=a("2877");function N(e){var t=a("894b");t.__inject__&&t.__inject__(e)}var G=Object(I["a"])(k,o,n,!1,N,null,null,!0);t["default"]=G.exports},f983:function(e,t,a){var o=a("8d00");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=a("35d6").default;e.exports.__inject__=function(e){n("3ac084be",o,e)}}}]);
//# sourceMappingURL=odp-search.3.min.js.map